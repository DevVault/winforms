<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <AssemblyName>System.Windows.Forms.Design.Tests</AssemblyName>
    <GenerateRuntimeConfigurationFiles>true</GenerateRuntimeConfigurationFiles>
    <NoWarn>$(NoWarn);SYSLIB0050;SYSLIB0051;SYSLIB0011</NoWarn>

    <!--To suppress the build warning for test binaries caused by the mismatch in the version of WindowsBase.dll
    brought in by the xunit.stafact package and the version included in the Microsoft.Netcore.App package
    referenced by these test binaries.-->
    <MSBuildWarningsAsMessages>
      $(MSBuildWarningsAsMessages);MSB3277
    </MSBuildWarningsAsMessages>
  </PropertyGroup>

  <ItemGroup>
    <None Remove="Resources\telescope_01.wmf" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="$(MicrosoftCodeAnalysisCSharpPackageVersion)" />
    <PackageReference Include="Moq" Version="$(MoqPackageVersion)" />
    <PackageReference Include="coverlet.msbuild" Version="$(CoverletMSBuildPackageVersion)" />
  </ItemGroup>

  <ItemGroup>
    <!-- xunit.stafact target TFM is contains "-windows" while our test binaris don't.
    So, we had to use this work around to load correct binary from NuGet-->
    <PackageReference Include="xunit.stafact" Version="$(XUnitStaFactPackageVersion)" ExcludeAssets="all"/>
    <Reference Include="$(PkgXunit_StaFact)\lib\net6.0-windows7.0\xunit.stafact.dll" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\..\System.Windows.Forms\tests\TestUtilities\System.Windows.Forms.TestUtilities.csproj" />
    <ProjectReference Include="..\..\src\System.Windows.Forms.Design.csproj" />
    <ProjectReference Include="..\..\..\System.Design\src\System.Design.Facade.csproj" />
    <ProjectReference Include="..\..\..\System.Drawing.Design\src\System.Drawing.Design.Facade.csproj" />
  </ItemGroup>

  <ItemGroup>
    <!-- workaround for https://github.com/dotnet/sdk/issues/3254 -->
    <Reference Include="$(BaseOutputPath)..\System.Design.Facade\$(Configuration)\$(TargetFramework)\System.Design.dll" />
  </ItemGroup>

  <ItemGroup>
    <Content Include="Resources\telescope_01.wmf">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="Resources\16x16.bmp">
      <LogicalName>System.Drawing.Design.Tests.16x16.bmp</LogicalName>
    </EmbeddedResource>
    <EmbeddedResource Include="Resources\24x16.bmp">
      <LogicalName>System.Drawing.Design.Tests.24x16.bmp</LogicalName>
    </EmbeddedResource>
    <EmbeddedResource Include="Resources\16x24.bmp">
      <LogicalName>System.Drawing.Design.Tests.16x24.bmp</LogicalName>
    </EmbeddedResource>
  </ItemGroup>

  <ItemGroup>
    <None Update="Resources\*.*">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup>
    <Reference Include="AxInterop.WMPLib">
      <HintPath>$(ArtifactsBinDir)\AxHosts\$(Configuration)\net472\AxInterop.WMPLib.dll</HintPath>
    </Reference>
    <Reference Include="Interop.WMPLib">
      <HintPath>$(ArtifactsBinDir)\AxHosts\$(Configuration)\net472\Interop.WMPLib.dll</HintPath>
    </Reference>
  </ItemGroup>

</Project>
